{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// @ is an alias to /src\nimport sprite from '@/../public/img/sprite_1.png';\nimport b00 from '@/../public/img/b0/mountain.png';\nimport b01 from '@/../public/img/b0/mountain2.png';\nimport b02 from '@/../public/img/b0/mountain3.png';\nimport b10 from '@/../public/img/b1/cami.png';\nimport b11 from '@/../public/img/b1/conreu.png';\nimport b12 from '@/../public/img/b1/conreu2.png';\nimport b20 from '@/../public/img/b2/panta.png';\nimport b21 from '@/../public/img/b2/panta2.png';\nimport b22 from '@/../public/img/b2/panta3.png';\nimport b23 from '@/../public/img/b2/terra.png';\nimport b0 from '@/../public/img/b/background.png';\nimport b1 from '@/../public/img/b/nuvol.png';\nimport b2 from '@/../public/img/b/sol.png';\nimport Player from './../classes/player.js';\nimport Platform from './../classes/platform.js';\nexport default {\n  name: \"DayView\",\n  props: {\n    msg: String\n  },\n  computed: {\n    day() {\n      console.log(this.$store.getters.days);\n      return this.$store.getters.days.find(d => d._id == this.msg);\n    },\n    days() {\n      console.log(this.$store.getters.days);\n      return this.$store.getters.days;\n    }\n  },\n  data() {\n    return {\n      id: '63b3e1b9f227fb373558a9a6',\n      dia: 0,\n      click: false,\n      player: null,\n      platform: [],\n      canvas: null,\n      randomScene: null,\n      generalBackgrounds: null,\n      customBackgrounds: null,\n      gravity: null,\n      IS_RUNNING: false,\n      c: null,\n      keys: {\n        right: {\n          pressed: false\n        },\n        left: {\n          pressed: false\n        }\n      }\n    };\n  },\n  mounted() {\n    this.canvas = this.$refs.canvas;\n    this.c = this.canvas.getContext('2d');\n    this.generalBackgrounds = [b0, b1, b2];\n    this.customBackgrounds = [[{\n      x: -50,\n      y: 150,\n      image: this.createImage(b00)\n    }, {\n      x: -40,\n      y: 350,\n      image: this.createImage(b01)\n    }, {\n      x: -90,\n      y: 400,\n      image: this.createImage(b02)\n    }, {\n      x: -30,\n      y: 600,\n      image: this.createImage(b10)\n    }], [{\n      x: -1000,\n      y: 150,\n      image: this.createImage(b12)\n    }, {\n      x: -1500,\n      y: 350,\n      image: this.createImage(b11)\n    }, {\n      x: -10,\n      y: 600,\n      image: this.createImage(b23)\n    }], [{\n      x: -10,\n      y: 150,\n      image: this.createImage(b22)\n    }, {\n      x: 0,\n      y: 300,\n      image: this.createImage(b21)\n    }, {\n      x: -10,\n      y: 250,\n      image: this.createImage(b20)\n    }, {\n      x: -10,\n      y: 600,\n      image: this.createImage(b23)\n    }]];\n    this.canvas.width = window.innerWidth;\n    this.canvas.height = window.innerHeight;\n    this.player = new Player(this.createImage(sprite));\n    this.randomScene = randomScenario();\n    this.generalBackgrounds.forEach((s, i) => {\n      let sc = new Platform({\n        x: 0,\n        y: 0,\n        image: this.createImage(s)\n      });\n      this.platform.push(sc);\n    });\n    this.randomScene.forEach((s, i) => {\n      let sc = new Platform(s);\n      this.platform.push(sc);\n    });\n    this.gravity = 0.7;\n    this.animate();\n    addEventListener('keydown', ({\n      keyCode\n    }) => {\n      this.IS_RUNNING = true;\n      switch (keyCode) {\n        case 37:\n          console.log('left');\n          this.keys.left.pressed = true;\n          break;\n        case 40:\n          console.log('down');\n          break;\n        case 38:\n          console.log('up');\n          this.player.velocity.y -= 10;\n          break;\n        case 39:\n          this.IS_RUNNING = true;\n          console.log('right');\n          this.keys.right.pressed = true;\n          break;\n      }\n    });\n    addEventListener('keyup', ({\n      keyCode\n    }) => {\n      this.IS_RUNNING = false;\n      switch (keyCode) {\n        case 37:\n          console.log('left');\n          this.keys.left.pressed = false;\n          break;\n        case 40:\n          console.log('down');\n          break;\n        case 38:\n          console.log('up');\n          this.player.velocity.y -= 15;\n          break;\n        case 39:\n          console.log('right');\n          this.keys.right.pressed = false;\n          break;\n      }\n    });\n  },\n  methods: {\n    onClickButton() {\n      this.$emit('goInfo', '1');\n      this.$router.push({\n        path: '/information'\n      });\n    },\n    changeId() {\n      this.id = this.days[this.dia]._id;\n      this.dia++;\n    },\n    animate() {\n      requestAnimationFrame(this.animate);\n      this.c.fillStyle = 'white';\n      this.c.fillRect(0, 0, this.canvas.width, this.canvas.height);\n      this.scenarios.forEach(items => {\n        items.draw();\n      });\n      this.player.update();\n      if (this.keys.right.pressed && this.player.position.x < 500) {\n        this.player.velocity.x = 5;\n      } else if (this.keys.left.pressed && this.player.position.x > 250) {\n        this.player.velocity.x = -5;\n      } else {\n        this.player.velocity.x = 0;\n        if (this.keys.right.pressed) {\n          this.scenarios.forEach(items => {\n            items.position.x -= 5;\n          });\n        } else if (this.keys.left.pressed) {\n          this.scenarios.forEach(items => {\n            items.position.x += 5;\n          });\n        }\n      }\n    },\n    randomScenario() {\n      console.log('random');\n      let num = Math.floor(Math.random() * this.customBackgrounds.length);\n      console.log(num);\n      return this.customBackgrounds[num];\n    },\n    createImage(imageSrc) {\n      const image = new Image();\n      image.src = imageSrc;\n      console.log('image', image);\n      return image;\n    }\n  }\n};","map":{"version":3,"mappings":";AAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA;EACAC;IACAC;EACA;EACAC;IACAC;MACAC;MACA;IACA;IACAC;MACAD;MACA;IACA;EACA;EACAE;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;UACAC;QACA;QACAC;UACAD;QACA;MACA;IAEA;EACA;EACAE;IAEA;IAEA;IAEA;IACA,0BACA,CACA;MAAAC;MACAC;MACAC;IAAA,GACA;MAAAF;MACAC;MACAC;IAAA,GACA;MAAAF;MACAC;MACAC;IAAA,GACA;MAAAF;MACAC;MACAC;IAAA,EACA,EACA,CACA;MAAAF;MACAC;MACAC;IAAA,GACA;MAAAF;MACAC;MACAC;IAAA,GACA;MAAAF;MACAC;MACAC;IAAA,EACA,EACA,CACA;MAAAF;MACAC;MACAC;IAAA,GACA;MAAAF;MACAC;MACAC;IAAA,GACA;MAAAF;MACAC;MACAC;IAAA,GACA;MAAAF;MACAC;MACAC;IAAA,EACA,CACA;IAEA;IACA;IACA;IACA;IAEA;MACA;QACAF;QACAC;QACAC;MACA;MACA;IACA;IACA;MACA;MACA;IACA;IACA;IAEA;IAEAC;MAAAC;IAAA;MACA;MACA;QACA;UACAxB;UACA;UACA;QAEA;UACAA;UACA;QAEA;UACAA;UACA;UACA;QAEA;UACA;UACAA;UACA;UACA;MAAA;IAEA;IAEAuB;MAAAC;IAAA;MACA;MACA;QACA;UACAxB;UACA;UACA;QAEA;UACAA;UACA;QAEA;UACAA;UACA;UACA;QAEA;UACAA;UACA;UACA;MAAA;IAEA;EACA;EACAyB;IACAC;MACA;MACA;QAAAC;MAAA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACAC;MACA;MACA;MAEA;QACAC;MACA;MAEA;MAEA;QACA;MACA;QACA;MACA;QACA;QAEA;UACA;YACAA;UACA;QACA;UACA;YACAA;UACA;QACA;MACA;IACA;IACAC;MACAhC;MACA;MACAA;MACA;IACA;IAEAiC;MACA;MACAX;MACAtB;MACA;IACA;EAEA;AACA","names":["name","props","msg","computed","day","console","days","data","id","dia","click","player","platform","canvas","randomScene","generalBackgrounds","customBackgrounds","gravity","IS_RUNNING","c","keys","right","pressed","left","mounted","x","y","image","addEventListener","keyCode","methods","onClickButton","path","changeId","animate","requestAnimationFrame","items","randomScenario","createImage"],"sourceRoot":"src/components","sources":["ExperienceWorld.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"menu\">\n      <div class=\"flex\" v-if=\"day\">\n        <button @click=\"click = !click\">\n          <div v-if=\"click\">\n            <div class=\"slide\">\n              <div v-for=\"d in days\" :key=\"d._id\" class=\"dia\"> \n                <button @click=\"filter(d._id)\" :class=\"{'active':filterId==d._id}\" id=\"select\">{{d.point}}</button>\n              </div>\n            </div>\n          </div>\n          <div class=\"calendar\" v-else>\n            <p>DAY</p>\n            <p id=\"color\">{{day.point}}</p>\n          </div>\n        </button>\n        <div class=\"location\">\n          <p>{{day.startingLocation}} - {{day.endLocation }}</p>\n          <p>{{day.km}}km</p>\n        </div>\n      </div>\n      <div>\n        <div class=\"logos\">\n          <router-link to=\"/cards\" class=\"logo\"> <img src=\"@/../public/icons/infonegre.svg\" alt=\"\"> </router-link>\n          <router-link to=\"/save\" class=\"logo\"> <img src=\"@/../public/icons/savenegre.svg\" alt=\"\"> </router-link>\n        </div>\n      </div>\n    </div>\n    <div class=\"center\">\n      <div class=\"flex\">\n        \n        <div class=\"\">\n          <router-link to=\"/bags\" class=\"button\">aqui hi haur√† el personatge</router-link>\n          <br>\n          <a @click=\"onClickButton()\" class=\"button\"><img src=\"@/../public/experience/petxina.png\" alt=\"\"></a>\n        </div>\n      </div>\n      \n        \n    </div>\n\n    <div class=\"footer\">\n      <img src=\"@/../public/icons/arrowup.svg\" alt=\"\">\n      <button class=\"abouts\">About us</button>\n    </div>\n\n    <canvas ref=\"canvas\">\n    </canvas>\n\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n    import sprite from '@/../public/img/sprite_1.png'\n    import b00 from '@/../public/img/b0/mountain.png'\n    import b01 from '@/../public/img/b0/mountain2.png'\n    import b02 from '@/../public/img/b0/mountain3.png'\n    import b10 from '@/../public/img/b1/cami.png'\n    import b11 from '@/../public/img/b1/conreu.png'\n    import b12 from '@/../public/img/b1/conreu2.png'\n    import b20 from '@/../public/img/b2/panta.png'\n    import b21 from '@/../public/img/b2/panta2.png'\n    import b22 from '@/../public/img/b2/panta3.png'\n    import b23 from '@/../public/img/b2/terra.png'\n    import b0 from '@/../public/img/b/background.png'\n    import b1 from '@/../public/img/b/nuvol.png'\n    import b2 from '@/../public/img/b/sol.png'\n    import Player from './../classes/player.js';\n    import Platform from './../classes/platform.js';\n\nexport default {\n  name: \"DayView\",\n  props: {\n    msg: String,\n  },\n  computed:{\n    day(){\n      console.log(this.$store.getters.days)\n      return this.$store.getters.days.find(d=>d._id==this.msg)\n      }, \n    days(){\n        console.log(this.$store.getters.days)\n        return this.$store.getters.days\n    },\n  }, \n  data(){\n    return{\n      id:'63b3e1b9f227fb373558a9a6',\n      dia:0,\n      click: false,\n      player:null,\n      platform:[],\n      canvas:null,\n      randomScene:null,\n      generalBackgrounds:null,\n      customBackgrounds:null,\n      gravity:null,\n      IS_RUNNING: false,\n      c:null,\n       keys : {\n        right: {\n            pressed: false\n        },\n        left: {\n            pressed: false\n        }\n       },\n\n    }\n  },\n  mounted(){\n\n    this.canvas = this.$refs.canvas\n\n    this.c = this.canvas.getContext('2d')\n\n    this.generalBackgrounds = [b0,b1,b2];\n    this.customBackgrounds = [\n      [\n    {x: -50, \n        y: 150, \n        image: this.createImage(b00)},\n    {x: -40, \n        y: 350, \n        image: this.createImage(b01)},\n    {x: -90, \n        y: 400, \n        image: this.createImage(b02)},\n    {x: -30, \n        y: 600, \n        image: this.createImage(b10)} \n      ],\n      [ \n    {x: -1000, \n        y: 150, \n        image: this.createImage(b12)}, \n    {x: -1500, \n        y: 350, \n        image: this.createImage(b11)},\n    {x: -10, \n        y: 600, \n        image: this.createImage(b23)}\n      ],\n      [\n    {x: -10, \n        y: 150, \n        image: this.createImage(b22)},\n    {x: 0, \n        y: 300, \n        image: this.createImage(b21)},\n    {x: -10, \n        y: 250, \n        image: this.createImage(b20)},\n    {x: -10, \n        y: 600, \n        image: this.createImage(b23)}\n      ]\n    ];\n\nthis.canvas.width = window.innerWidth\nthis.canvas.height = window.innerHeight\nthis.player = new Player(this.createImage(sprite));\nthis.randomScene = randomScenario();\n\nthis.generalBackgrounds.forEach( (s,i)=>{\n    let sc = new Platform ({\n        x: 0, \n        y: 0, \n        image: this.createImage(s)\n    })\n    this.platform.push(sc)\n})\nthis.randomScene.forEach( (s,i)=>{\n    let sc = new Platform (s)\n    this.platform.push(sc)\n})\nthis.gravity = 0.7;\n\nthis.animate()\n\naddEventListener('keydown', ({ keyCode }) => {\nthis.IS_RUNNING=true;\n    switch (keyCode){\n        case 37: \n            console.log('left')\n            this.keys.left.pressed = true\n            break\n\n        case 40: \n            console.log('down')\n            break\n\n        case 38: \n            console.log('up')\n            this.player.velocity.y -= 10\n            break\n\n        case 39: \n            this.IS_RUNNING=true\n            console.log('right')\n            this.keys.right.pressed = true\n            break\n    }\n})\n\naddEventListener('keyup', ({ keyCode }) => {\nthis.IS_RUNNING=false;\n    switch (keyCode){\n        case 37: \n            console.log('left')\n            this.keys.left.pressed = false\n            break\n\n        case 40: \n            console.log('down')\n            break\n\n        case 38: \n            console.log('up')\n            this.player.velocity.y -= 15\n            break\n\n        case 39: \n            console.log('right')\n            this.keys.right.pressed = false\n            break\n    }\n})\n  },\n  methods:{\n    onClickButton () {\n      this.$emit('goInfo','1')\n      this.$router.push({path:'/information'})\n    }, \n    changeId(){\n      this.id=this.days[this.dia]._id\n      this.dia++;\n    },\n    animate(){\n    requestAnimationFrame(this.animate)\n    this.c.fillStyle = 'white'\n    this.c.fillRect(0,0, this.canvas.width, this.canvas.height)\n\n    this.scenarios.forEach(items => {\n        items.draw()\n    })\n\n    this.player.update()\n\n    if(this.keys.right.pressed && this.player.position.x < 500){\n        this.player.velocity.x = 5\n    } else if (this.keys.left.pressed && this.player.position.x > 250){\n        this.player.velocity.x = -5\n    } else {\n        this.player.velocity.x = 0\n\n        if(this.keys.right.pressed){\n            this.scenarios.forEach((items) => {\n              items.position.x -= 5\n            })\n        } else if (this.keys.left.pressed){\n          this.scenarios.forEach((items) => {\n            items.position.x += 5\n          })\n        }\n    }\n    }, \n    randomScenario(){\n    console.log('random')\n    let num = Math.floor(Math.random()*this.customBackgrounds.length);\n    console.log(num)\n    return this.customBackgrounds[num];\n    }, \n    \n    createImage(imageSrc){\n      const image = new Image()\n      image.src = imageSrc\n      console.log('image',image)\n      return image\n    }, \n\n  } \n};\n</script>\n\n<style scoped lang=\"scss\">\nbody{\n   margin: 0;\n   background-color: white;\n}\n\np{\n  margin: 0;\n  padding: 0;\n}\n\nbutton{\n    border-style: none;\n    background-color: transparent;\n    color: white;\n}\n\n.menu {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 30px;\n  background-color: white;\n}\n\n.menu .logos{\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  margin-right: 60px;\n}\n\n.menu img{\n  width: 40px;\n  height: 40px;\n  padding: 10px;\n}\n\n.menu p{\n  color: black;\n  font-size: 12px;\n}\n\n.menu button{\n  border-radius: 50%;\n  padding: 15px;\n  border-color: black;\n  background-color: transparent;\n  border-width: 1px;\n  width: 62px;\n  height: 62px;\n}\n\n.menu button:hover{\n  background: black;\n}\n\n.menu button:hover p{\n  color: white;\n}\n\n.menu .flex{\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  margin-left: 60px;\n}\n\n.flex button{\n    color: black;\n    font-size: 15px;\n}\n\n.menu .location p{\n  text-align: left;\n  margin-left: 30px;\n}\n\n.flex{\n  display: flex;\n  flex-wrap: wrap;\n  background-color: white;\n}\n\n.slide{\n    border-radius: 2em;\n    border: 1px solid black;\n    width: 48px;\n    height: 650px;\n    margin-top: 70px;\n    margin-right: 50px;\n    margin-left: -5px;\n    overflow-y: scroll;\n    scroll-behavior: smooth;\n}\n\n::-webkit-scrollbar {\n  width: 0px;\n}\n\n.dia button{\n  width: 38px;\n  height: 38px;\n}\n\n.dia{\n  height: 48px;\n  padding: 5px;\n}\n\n.flex .dia button.active{\n    color: black;\n    background-color: white;\n    border-radius: 50px;\n}\n\n.flex .dia button:hover {\n    color: white;\n    border: none;\n}\n\n.calendar p{\n  color: white;\n  background-color: none;\n}\n\n.center img{\n    width: 95px;\n    height: 170px;\n}\n\n.center {\n    font-size: 50px;\n}\n\n.center p{\n    color: black;\n}\n\n.abouts{\n    color: white;\n    font-size: 10px;\n    text-decoration: none;\n    background-color: transparent;\n    border: none;\n    display: block;\n}\n\n.none{\n  margin: 0;\n  padding: 0;\n}\n\n.footer{\n  float: right;\n  position: fixed;\n  margin-right:70px;\n   bottom: 20px;\n    right: 0;\n}\n\n.footer img{\n  width: 11px;\n    height: 7px;\n}\n\n</style>"]},"metadata":{},"sourceType":"module"}