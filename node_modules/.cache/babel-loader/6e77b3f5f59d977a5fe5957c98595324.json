{"ast":null,"code":"import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport axios from 'axios';\nVue.use(Vuex);\nconst url_api = \"http://localhost:3001/api\";\nexport default new Vuex.Store({\n  state: {\n    loading: true,\n    info: [],\n    activeInfo: 0\n  },\n  mutations: {\n    setLoading(state, loading) {\n      state.loading = loading;\n    },\n    setActiveInfo(state) {\n      state.activeInfo++;\n    },\n    setInfo(state, days) {\n      state.info = days;\n    }\n  },\n  actions: {\n    fetchAllData({\n      dispatch,\n      commit,\n      state\n    }) {\n      commit(\"setLoading\", true);\n      console.log(\"Loading before\", state.loading);\n      let days = dispatch(\"fetchDays\");\n      return Promise.all([days]).then(() => {\n        // Both done\n        commit(\"setLoading\", false);\n        console.log(\"Loading after\", state.loading);\n      });\n    },\n    fetchDays({\n      state,\n      commit\n    }) {\n      console.log(\"Fetch Days\");\n      return new Promise(resolve => {\n        const url = url_api + \"/days\";\n        // https://docs.nativescript.org/http.html\n        axios.get(url).then(res => {\n          console.log(res.data);\n          commit(\"setDays\", res.data);\n          resolve(state.days);\n        }).catch(err => console.log('error', err));\n      });\n    }\n  },\n  getters: {\n    loading(state) {\n      return state.loading;\n    },\n    cards(state) {\n      return state.cards;\n    },\n    activeDay(state) {\n      return state.activeDay;\n    }\n  },\n  modules: {}\n});","map":{"version":3,"names":["Vue","Vuex","axios","use","url_api","Store","state","loading","info","activeInfo","mutations","setLoading","setActiveInfo","setInfo","days","actions","fetchAllData","dispatch","commit","console","log","Promise","all","then","fetchDays","resolve","url","get","res","data","catch","err","getters","cards","activeDay","modules"],"sources":["/Users/nuria/Developer/Modern/src/store/index.js"],"sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport axios from 'axios';\n\nVue.use(Vuex);\nconst url_api = \"http://localhost:3001/api\"\nexport default new Vuex.Store({\n  state: {\n    loading: true,\n    info: [],\n    activeInfo: 0\n  },\n  mutations: {\n    setLoading(state, loading) {\n      state.loading = loading;\n    },\n    setActiveInfo(state) {\n      state.activeInfo++;\n    },\n    setInfo(state, days) {\n      state.info = days;\n    },\n  },\n  actions: {\n    fetchAllData({ dispatch, commit, state }) {\n      commit(\"setLoading\", true);\n      console.log(\"Loading before\", state.loading);\n      let days = dispatch(\"fetchDays\");\n\n      return Promise.all([\n        days,\n\n\n      ]).then(() => {\n        // Both done\n        commit(\"setLoading\", false);\n        console.log(\"Loading after\", state.loading)\n      });\n    },\n    fetchDays({ state, commit }) {\n      console.log(\"Fetch Days\");\n      return new Promise((resolve) => {\n        const url = url_api + \"/days\"\n        // https://docs.nativescript.org/http.html\n        axios.get(url).then(res => {\n          console.log(res.data)\n          commit(\"setDays\", res.data);\n          resolve(state.days);\n        })\n          .catch(err => console.log('error', err))\n      });\n    },\n\n\n  },\n  getters: {\n    loading(state) {\n      return state.loading;\n    },\n    cards(state) {\n      return state.cards;\n    },\n    activeDay(state) {\n      return state.activeDay;\n    },\n  },\n  modules: {},\n});\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,KAAK,MAAM,OAAO;AAEzBF,GAAG,CAACG,GAAG,CAACF,IAAI,CAAC;AACb,MAAMG,OAAO,GAAG,2BAA2B;AAC3C,eAAe,IAAIH,IAAI,CAACI,KAAK,CAAC;EAC5BC,KAAK,EAAE;IACLC,OAAO,EAAE,IAAI;IACbC,IAAI,EAAE,EAAE;IACRC,UAAU,EAAE;EACd,CAAC;EACDC,SAAS,EAAE;IACTC,UAAU,CAACL,KAAK,EAAEC,OAAO,EAAE;MACzBD,KAAK,CAACC,OAAO,GAAGA,OAAO;IACzB,CAAC;IACDK,aAAa,CAACN,KAAK,EAAE;MACnBA,KAAK,CAACG,UAAU,EAAE;IACpB,CAAC;IACDI,OAAO,CAACP,KAAK,EAAEQ,IAAI,EAAE;MACnBR,KAAK,CAACE,IAAI,GAAGM,IAAI;IACnB;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,YAAY,CAAC;MAAEC,QAAQ;MAAEC,MAAM;MAAEZ;IAAM,CAAC,EAAE;MACxCY,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC;MAC1BC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEd,KAAK,CAACC,OAAO,CAAC;MAC5C,IAAIO,IAAI,GAAGG,QAAQ,CAAC,WAAW,CAAC;MAEhC,OAAOI,OAAO,CAACC,GAAG,CAAC,CACjBR,IAAI,CAGL,CAAC,CAACS,IAAI,CAAC,MAAM;QACZ;QACAL,MAAM,CAAC,YAAY,EAAE,KAAK,CAAC;QAC3BC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEd,KAAK,CAACC,OAAO,CAAC;MAC7C,CAAC,CAAC;IACJ,CAAC;IACDiB,SAAS,CAAC;MAAElB,KAAK;MAAEY;IAAO,CAAC,EAAE;MAC3BC,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;MACzB,OAAO,IAAIC,OAAO,CAAEI,OAAO,IAAK;QAC9B,MAAMC,GAAG,GAAGtB,OAAO,GAAG,OAAO;QAC7B;QACAF,KAAK,CAACyB,GAAG,CAACD,GAAG,CAAC,CAACH,IAAI,CAACK,GAAG,IAAI;UACzBT,OAAO,CAACC,GAAG,CAACQ,GAAG,CAACC,IAAI,CAAC;UACrBX,MAAM,CAAC,SAAS,EAAEU,GAAG,CAACC,IAAI,CAAC;UAC3BJ,OAAO,CAACnB,KAAK,CAACQ,IAAI,CAAC;QACrB,CAAC,CAAC,CACCgB,KAAK,CAACC,GAAG,IAAIZ,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEW,GAAG,CAAC,CAAC;MAC5C,CAAC,CAAC;IACJ;EAGF,CAAC;EACDC,OAAO,EAAE;IACPzB,OAAO,CAACD,KAAK,EAAE;MACb,OAAOA,KAAK,CAACC,OAAO;IACtB,CAAC;IACD0B,KAAK,CAAC3B,KAAK,EAAE;MACX,OAAOA,KAAK,CAAC2B,KAAK;IACpB,CAAC;IACDC,SAAS,CAAC5B,KAAK,EAAE;MACf,OAAOA,KAAK,CAAC4B,SAAS;IACxB;EACF,CAAC;EACDC,OAAO,EAAE,CAAC;AACZ,CAAC,CAAC"},"metadata":{},"sourceType":"module"}