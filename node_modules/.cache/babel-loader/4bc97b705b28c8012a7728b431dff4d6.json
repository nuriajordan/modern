{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// @ is an alias to /src\nimport sprite from \"@/../public/img/sprite_1.png\";\nimport b00 from \"@/../public/img/b0/mountain.png\";\nimport b01 from \"@/../public/img/b0/mountain2.png\";\nimport b02 from \"@/../public/img/b0/mountain3.png\";\nimport b03 from \"@/../public/img/b0/cami.png\";\nimport b04 from \"@/../public/img/b0/marro.png\";\nimport b10 from \"@/../public/img/b1/cami.png\";\nimport b11 from \"@/../public/img/b1/conreu.png\";\nimport b12 from \"@/../public/img/b1/conreu2.png\";\nimport b13 from \"@/../public/img/b1/granconreu.png\";\nimport b20 from \"@/../public/img/b2/panta.png\";\nimport b21 from \"@/../public/img/b2/panta2.png\";\nimport b22 from \"@/../public/img/b2/panta3.png\";\nimport b23 from \"@/../public/img/b2/cami.png\";\nimport b0 from \"@/../public/img/b/background.png\";\nimport b1 from \"@/../public/img/b/nuvol.png\";\nimport b2 from \"@/../public/img/b/sol.png\";\nimport Player from \"./../classes/player.js\";\nimport Platform from \"./../classes/platform.js\";\nimport petxina from \"@/../public/experience/petxina.png\";\nexport default {\n  name: \"DayView\",\n  props: {\n    msg: String\n  },\n  computed: {\n    day() {\n      console.log(this.$store.getters.days);\n      return this.$store.getters.days.find(d => d._id == this.msg);\n    },\n    days() {\n      console.log(this.$store.getters.days);\n      return this.$store.getters.days;\n    }\n  },\n  data() {\n    return {\n      id: \"63b3e1b9f227fb373558a9a6\",\n      dia: 0,\n      click: false,\n      player: null,\n      platform: [],\n      canvas: null,\n      randomScene: null,\n      generalBackgrounds: null,\n      customBackgrounds: null,\n      gravity: null,\n      IS_RUNNING: false,\n      c: null,\n      keys: {\n        right: {\n          pressed: false\n        },\n        left: {\n          pressed: false\n        }\n      }\n    };\n  },\n  mounted() {\n    this.canvas = this.$refs.canvas;\n    this.c = this.canvas.getContext(\"2d\");\n    this.generalBackgrounds = [b0, b1, b2];\n    this.customBackgrounds = [[{\n      x: 0,\n      y: 305,\n      image: this.createImage(b00)\n    }, {\n      x: 0,\n      y: 310,\n      image: this.createImage(b01)\n    }, {\n      x: 0,\n      y: 480,\n      image: this.createImage(b02)\n    }, {\n      x: -5,\n      y: 500,\n      image: this.createImage(b04)\n    }, {\n      x: 1750,\n      y: 450,\n      image: this.createImage(petxina)\n    }, {\n      x: 0,\n      y: 660,\n      image: this.createImage(b03)\n    }], [{\n      x: 0,\n      y: 455,\n      image: this.createImage(b12)\n    }, {\n      x: 0,\n      y: 450,\n      image: this.createImage(b13)\n    }, {\n      x: 115,\n      y: 565,\n      image: this.createImage(b11)\n    }, {\n      x: 1750,\n      y: 450,\n      image: this.createImage(petxina)\n    }, {\n      x: 0,\n      y: 660,\n      image: this.createImage(b10)\n    }], [{\n      x: 0,\n      y: 470,\n      image: this.createImage(b22)\n    }, {\n      x: 0,\n      y: 435,\n      image: this.createImage(b21)\n    }, {\n      x: 0,\n      y: 530,\n      image: this.createImage(b20)\n    }, {\n      x: 1750,\n      y: 450,\n      image: this.createImage(petxina)\n    }, {\n      x: 0,\n      y: 660,\n      image: this.createImage(b23)\n    }]];\n    this.canvas.width = window.innerWidth;\n    this.canvas.height = window.innerHeight;\n    console.log(\"player\", this.player);\n    this.randomScene = this.randomScenario();\n    this.generalBackgrounds.forEach(s => {\n      let img = this.createImage(s);\n      console.log(\"gen back\", this.createImage(s));\n      let sc = new Platform(0, 0, img, this.c);\n      this.platform.push(sc);\n    });\n    this.randomScene.forEach(s => {\n      console.log(\"dins  platform\", s);\n      let sc = new Platform(s.x, s.y, s.image, this.c);\n      this.platform.push(sc);\n    });\n    this.player = new Player(this.createImage(sprite), this.c, this.canvas);\n    this.gravity = 0.7;\n    this.animate();\n    window.addEventListener(\"keydown\", ({\n      keyCode\n    }) => {\n      this.IS_RUNNING = true;\n      switch (keyCode) {\n        case 39:\n          this.IS_RUNNING = true;\n          console.log(\"right\");\n          this.keys.right.pressed = true;\n          break;\n      }\n    });\n    window.addEventListener(\"keyup\", ({\n      keyCode\n    }) => {\n      this.IS_RUNNING = false;\n      switch (keyCode) {\n        case 37:\n          console.log(\"left\");\n          this.keys.left.pressed = false;\n          break;\n        case 40:\n          console.log(\"down\");\n          break;\n        case 38:\n          console.log(\"up\");\n          this.player.velocity.y -= false;\n          break;\n        case 39:\n          console.log(\"right\");\n          this.keys.right.pressed = false;\n          break;\n      }\n    });\n  },\n  methods: {\n    onClickButton() {\n      this.$emit(\"goInfo\", \"1\");\n      this.$router.push({\n        path: \"/information\"\n      });\n    },\n    changeId() {\n      this.id = this.days[this.dia]._id;\n      this.dia++;\n    },\n    animate() {\n      requestAnimationFrame(this.animate);\n      this.c.fillStyle = \"white\";\n      this.c.fillRect(0, 0, this.canvas.width, this.canvas.height);\n      this.platform.forEach(items => {\n        items.draw();\n      });\n      this.player.update(this.IS_RUNNING);\n      // this.player.draw();\n\n      if (this.keys.right.pressed && this.player.position.x < 500) {\n        this.player.velocity.x = 5;\n      } else if (this.keys.left.pressed && this.player.position.x > 250) {\n        this.player.velocity.x = -5;\n      } else {\n        this.player.velocity.x = 0;\n        if (this.keys.right.pressed) {\n          this.platform.forEach(items => {\n            items.position.x -= 5;\n          });\n        } else if (this.keys.left.pressed) {\n          this.platform.forEach(items => {\n            items.position.x += 5;\n          });\n        }\n      }\n    },\n    randomScenario() {\n      console.log(\"random\");\n      let num = Math.floor(Math.random() * this.customBackgrounds.length);\n      console.log(num);\n      return this.customBackgrounds[num];\n    },\n    createImage(imageSrc) {\n      const image = new Image();\n      image.src = imageSrc;\n      console.log(\"image\", image.src, image.width);\n      return image;\n    }\n  }\n};","map":{"version":3,"mappings":";AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA;EACAC;IACAC;EACA;EACAC;IACAC;MACAC;MACA;IACA;IACAC;MACAD;MACA;IACA;EACA;EACAE;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;UACAC;QACA;QACAC;UACAD;QACA;MACA;IACA;EACA;EACAE;IACA;IAEA;IAEA;IACA,0BACA,CACA;MAAAC;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,EACA,EACA,CACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,EACA,EACA,CACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,GACA;MAAAF;MAAAC;MAAAC;IAAA,EACA,CACA;IAEA;IACA;IAEAtB;IACA;IAEA;MACA;MACAA;MAEA;MACA;IACA;IAEA;MACAA;MACA;MACA;IACA;IACA;IAEA;IAEA;IAEAuB;MAAAC;IAAA;MACA;MACA;QACA;UACA;UACAxB;UACA;UACA;MAAA;IAEA;IAEAuB;MAAAC;IAAA;MACA;MACA;QACA;UACAxB;UACA;UACA;QAEA;UACAA;UACA;QAEA;UACAA;UACA;UACA;QAEA;UACAA;UACA;UACA;MAAA;IAEA;EACA;EACAyB;IACAC;MACA;MACA;QAAAC;MAAA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACAC;MACA;MACA;MAEA;QACAC;MACA;MAEA;MACA;;MAEA;QACA;MACA;QACA;MACA;QACA;QAEA;UACA;YACAA;UACA;QACA;UACA;YACAA;UACA;QACA;MACA;IACA;IACAC;MACAhC;MACA;MACAA;MACA;IACA;IAEAiC;MACA;MACAX;MACAtB;MACA;IACA;EACA;AACA","names":["name","props","msg","computed","day","console","days","data","id","dia","click","player","platform","canvas","randomScene","generalBackgrounds","customBackgrounds","gravity","IS_RUNNING","c","keys","right","pressed","left","mounted","x","y","image","window","keyCode","methods","onClickButton","path","changeId","animate","requestAnimationFrame","items","randomScenario","createImage"],"sourceRoot":"src/components","sources":["ExperienceWorld.vue"],"sourcesContent":["<template>\n  <div>\n    <canvas ref=\"canvas\" class=\"relative\"> </canvas>\n    <div class=\"absolute\">\n      <div class=\"menu\">\n        <div class=\"flex\" v-if=\"day\">\n          <button @click=\"click = !click\">\n            <div v-if=\"click\">\n              <div>\n                <p>DAY</p>\n                <p id=\"color\">{{ day.point }}</p>\n              </div>\n              <div class=\"slide\">\n                <div v-for=\"d in days\" :key=\"d._id\" class=\"dia\">\n                  <button\n                    @click=\"filter(d._id)\"\n                    :class=\"{ active: filterId == d._id }\"\n                    id=\"select\"\n                  >\n                    {{ d.point }}\n                  </button>\n                </div>\n              </div>\n            </div>\n            <div class=\"calendar\" v-else>\n              <p class=\"color\">DAY</p>\n              <p id=\"color\">{{ day.point }}</p>\n            </div>\n          </button>\n          <div class=\"location\">\n            <p>{{ day.startingLocation }} - {{ day.endLocation }}</p>\n            <p>{{ day.km }}km</p>\n          </div>\n        </div>\n        <div>\n          <div class=\"logos\">\n            <div class=\"logoabsolute\">\n              <router-link to=\"/cards\" class=\"logo\">\n                <img src=\"@/../public/icons/infohovernegre.svg\" alt=\"\" />\n              </router-link>\n              <router-link to=\"/save\" class=\"logo\">\n                <img src=\"@/../public/icons/savenegre.svg\" alt=\"\" />\n              </router-link>\n            </div>\n            <div class=\"logorelative\">\n              <router-link to=\"/cards\" class=\"logo infohover\">\n                <img src=\"@/../public/icons/infonegre.svg\" alt=\"\" />\n              </router-link>\n              <router-link to=\"/save\" class=\"logo savehover\">\n                <img src=\"@/../public/icons/savehovernegre.svg\" alt=\"\" />\n              </router-link>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"center\">\n        <div class=\"flex\">\n          <div class=\"\">\n            <router-link to=\"/bags\" class=\"button\"\n              >aqui hi haurà el personatge</router-link\n            >\n            <br />\n            <a @click=\"onClickButton()\" class=\"button\"\n              ><img\n                src=\"@/../public/experience/petxina.png\"\n                alt=\"\"\n                class=\"petxina\"\n            /></a>\n          </div>\n        </div>\n      </div>\n      <div class=\"footer\">\n        <img src=\"@/../public/icons/arrowup.svg\" alt=\"\" />\n        <button class=\"abouts\">About us</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport sprite from \"@/../public/img/sprite_1.png\";\nimport b00 from \"@/../public/img/b0/mountain.png\";\nimport b01 from \"@/../public/img/b0/mountain2.png\";\nimport b02 from \"@/../public/img/b0/mountain3.png\";\nimport b03 from \"@/../public/img/b0/cami.png\";\nimport b04 from \"@/../public/img/b0/marro.png\";\nimport b10 from \"@/../public/img/b1/cami.png\";\nimport b11 from \"@/../public/img/b1/conreu.png\";\nimport b12 from \"@/../public/img/b1/conreu2.png\";\nimport b13 from \"@/../public/img/b1/granconreu.png\";\nimport b20 from \"@/../public/img/b2/panta.png\";\nimport b21 from \"@/../public/img/b2/panta2.png\";\nimport b22 from \"@/../public/img/b2/panta3.png\";\nimport b23 from \"@/../public/img/b2/cami.png\";\nimport b0 from \"@/../public/img/b/background.png\";\nimport b1 from \"@/../public/img/b/nuvol.png\";\nimport b2 from \"@/../public/img/b/sol.png\";\nimport Player from \"./../classes/player.js\";\nimport Platform from \"./../classes/platform.js\";\nimport petxina from \"@/../public/experience/petxina.png\";\n\nexport default {\n  name: \"DayView\",\n  props: {\n    msg: String,\n  },\n  computed: {\n    day() {\n      console.log(this.$store.getters.days);\n      return this.$store.getters.days.find((d) => d._id == this.msg);\n    },\n    days() {\n      console.log(this.$store.getters.days);\n      return this.$store.getters.days;\n    },\n  },\n  data() {\n    return {\n      id: \"63b3e1b9f227fb373558a9a6\",\n      dia: 0,\n      click: false,\n      player: null,\n      platform: [],\n      canvas: null,\n      randomScene: null,\n      generalBackgrounds: null,\n      customBackgrounds: null,\n      gravity: null,\n      IS_RUNNING: false,\n      c: null,\n      keys: {\n        right: {\n          pressed: false,\n        },\n        left: {\n          pressed: false,\n        },\n      },\n    };\n  },\n  mounted() {\n    this.canvas = this.$refs.canvas;\n\n    this.c = this.canvas.getContext(\"2d\");\n\n    this.generalBackgrounds = [b0, b1, b2];\n    this.customBackgrounds = [\n      [\n        { x: 0, y: 305, image: this.createImage(b00) },\n        { x: 0, y: 310, image: this.createImage(b01) },\n        { x: 0, y: 480, image: this.createImage(b02) },\n        { x: -5, y: 500, image: this.createImage(b04) },\n        { x: 1750, y: 450, image: this.createImage(petxina) },\n        { x: 0, y: 660, image: this.createImage(b03) },\n      ],\n      [\n        { x: 0, y: 455, image: this.createImage(b12) },\n        { x: 0, y: 450, image: this.createImage(b13) },\n        { x: 115, y: 565, image: this.createImage(b11) },\n        { x: 1750, y: 450, image: this.createImage(petxina) },\n        { x: 0, y: 660, image: this.createImage(b10) },\n      ],\n      [\n        { x: 0, y: 470, image: this.createImage(b22) },\n        { x: 0, y: 435, image: this.createImage(b21) },\n        { x: 0, y: 530, image: this.createImage(b20) },\n        { x: 1750, y: 450, image: this.createImage(petxina) },\n        { x: 0, y: 660, image: this.createImage(b23) },\n      ],\n    ];\n\n    this.canvas.width = window.innerWidth;\n    this.canvas.height = window.innerHeight;\n\n    console.log(\"player\", this.player);\n    this.randomScene = this.randomScenario();\n\n    this.generalBackgrounds.forEach((s) => {\n      let img = this.createImage(s);\n      console.log(\"gen back\", this.createImage(s));\n\n      let sc = new Platform(0, 0, img, this.c);\n      this.platform.push(sc);\n    });\n\n    this.randomScene.forEach((s) => {\n      console.log(\"dins  platform\", s);\n      let sc = new Platform(s.x, s.y, s.image, this.c);\n      this.platform.push(sc);\n    });\n    this.player = new Player(this.createImage(sprite), this.c, this.canvas);\n\n    this.gravity = 0.7;\n\n    this.animate();\n\n    window.addEventListener(\"keydown\", ({ keyCode }) => {\n      this.IS_RUNNING = true;\n      switch (keyCode) {\n        case 39:\n          this.IS_RUNNING = true;\n          console.log(\"right\");\n          this.keys.right.pressed = true;\n          break;\n      }\n    });\n\n    window.addEventListener(\"keyup\", ({ keyCode }) => {\n      this.IS_RUNNING = false;\n      switch (keyCode) {\n        case 37:\n          console.log(\"left\");\n          this.keys.left.pressed = false;\n          break;\n\n        case 40:\n          console.log(\"down\");\n          break;\n\n        case 38:\n          console.log(\"up\");\n          this.player.velocity.y -= false;\n          break;\n\n        case 39:\n          console.log(\"right\");\n          this.keys.right.pressed = false;\n          break;\n      }\n    });\n  },\n  methods: {\n    onClickButton() {\n      this.$emit(\"goInfo\", \"1\");\n      this.$router.push({ path: \"/information\" });\n    },\n    changeId() {\n      this.id = this.days[this.dia]._id;\n      this.dia++;\n    },\n    animate() {\n      requestAnimationFrame(this.animate);\n      this.c.fillStyle = \"white\";\n      this.c.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n      this.platform.forEach((items) => {\n        items.draw();\n      });\n\n      this.player.update(this.IS_RUNNING);\n      // this.player.draw();\n\n      if (this.keys.right.pressed && this.player.position.x < 500) {\n        this.player.velocity.x = 5;\n      } else if (this.keys.left.pressed && this.player.position.x > 250) {\n        this.player.velocity.x = -5;\n      } else {\n        this.player.velocity.x = 0;\n\n        if (this.keys.right.pressed) {\n          this.platform.forEach((items) => {\n            items.position.x -= 5;\n          });\n        } else if (this.keys.left.pressed) {\n          this.platform.forEach((items) => {\n            items.position.x += 5;\n          });\n        }\n      }\n    },\n    randomScenario() {\n      console.log(\"random\");\n      let num = Math.floor(Math.random() * this.customBackgrounds.length);\n      console.log(num);\n      return this.customBackgrounds[num];\n    },\n\n    createImage(imageSrc) {\n      const image = new Image();\n      image.src = imageSrc;\n      console.log(\"image\", image.src, image.width);\n      return image;\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\nbody {\n  margin: 0;\n}\n\np {\n  margin: 0;\n  padding: 0;\n}\n\n.flex button {\n  border-style: solid;\n  border-width: 1px;\n  border-color: black;\n  background-color: transparent;\n  color: black;\n}\n\n.slide button {\n  border: none;\n}\n\n.menu {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 30px;\n}\n\n.menu .logos {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  margin-right: 60px;\n}\n\n.menu img {\n  width: 40px;\n  height: 40px;\n  padding: 10px;\n}\n\n.menu p {\n  color: black;\n  font-size: 12px;\n}\n\n.menu button {\n  border-radius: 50%;\n  padding: 15px;\n  border-color: black;\n  background-color: transparent;\n  border-width: 1px;\n  width: 62px;\n  height: 62px;\n}\n\n.menu button:hover {\n  background: black;\n}\n\n.menu button:hover p {\n  color: white;\n}\n\n.menu .flex {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n  margin-left: 60px;\n}\n\n.flex button {\n  color: black;\n  font-size: 15px;\n}\n\n.menu .location p {\n  text-align: left;\n  margin-left: 30px;\n}\n\n.flex {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.slide {\n  border-radius: 2em;\n  border: 1px solid black;\n  width: 48px;\n  height: 650px;\n  margin-top: 25px;\n  margin-right: 50px;\n  margin-left: -8px;\n  overflow-y: scroll;\n  scroll-behavior: smooth;\n}\n\n::-webkit-scrollbar {\n  width: 0px;\n}\n\n.dia button {\n  width: 38px;\n  height: 38px;\n}\n\n.dia {\n  height: 48px;\n  padding: 5px;\n}\n\n.flex .dia button.active {\n  color: black;\n  background-color: white;\n  border-radius: 50px;\n}\n\n.flex .dia button:hover {\n  color: white;\n  border: none;\n}\n\n.calendar p {\n  background-color: none;\n}\n\n.center img {\n  width: 95px;\n  height: 170px;\n}\n\n.center {\n  font-size: 50px;\n}\n\n.center p {\n  color: black;\n}\n\n.abouts {\n  color: white;\n  font-size: 10px;\n  text-decoration: none;\n  background-color: transparent;\n  border: none;\n  display: block;\n}\n\n.none {\n  margin: 0;\n  padding: 0;\n}\n\n.footer {\n  float: right;\n  position: fixed;\n  margin-right: 70px;\n  bottom: 20px;\n  right: 0;\n}\n\n.footer img {\n  width: 11px;\n  height: 7px;\n}\n\n.absolute {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.relative {\n  position: relative;\n  height: 100%;\n}\n\nimg.petxina {\n  margin-left: 1200px;\n}\n\n.logorelative {\n  position: relative;\n}\n\n.logoabsolute {\n  position: absolute;\n}\n</style>"]},"metadata":{},"sourceType":"module"}