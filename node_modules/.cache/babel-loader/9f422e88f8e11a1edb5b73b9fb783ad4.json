{"ast":null,"code":"import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport axios from 'axios';\nVue.use(Vuex);\nconst url_api = \"https://www.girona.cat/shared/feeds/modern_mural.php\";\nexport default new Vuex.Store({\n  state: {\n    loading: true,\n    info: [],\n    activeInfo: 0\n  },\n  mutations: {\n    setLoading(state, loading) {\n      state.loading = loading;\n    },\n    setActiveInfo(state) {\n      state.activeInfo++;\n    },\n    setInfo(state, info) {\n      state.info = info;\n    }\n  },\n  actions: {\n    fetchAllData({\n      dispatch,\n      commit,\n      state\n    }) {\n      commit(\"setLoading\", true);\n      console.log(\"Loading before\", state.loading);\n      let days = dispatch(\"fetchInfo\");\n      return Promise.all([days]).then(() => {\n        // Both done\n        commit(\"setLoading\", false);\n        console.log(\"Loading after\", state.loading);\n      });\n    },\n    fetchInfo({\n      state,\n      commit\n    }) {\n      console.log(\"Fetch Info\");\n      return new Promise(resolve => {\n        const url = url_api + \"/info\";\n        // https://docs.nativescript.org/http.html\n        axios.get(url).then(res => {\n          console.log(res.data);\n          commit(\"setInfo\", res.data);\n          resolve(state.info);\n        }).catch(err => console.log('error', err));\n      });\n    }\n  },\n  getters: {\n    loading(state) {\n      return state.loading;\n    },\n    info(state) {\n      return state.info;\n    },\n    activeInfo(state) {\n      return state.activeInfo;\n    }\n  },\n  modules: {}\n});","map":{"version":3,"names":["Vue","Vuex","axios","use","url_api","Store","state","loading","info","activeInfo","mutations","setLoading","setActiveInfo","setInfo","actions","fetchAllData","dispatch","commit","console","log","days","Promise","all","then","fetchInfo","resolve","url","get","res","data","catch","err","getters","modules"],"sources":["/Users/nuria/Developer/Modern/src/store/index.js"],"sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport axios from 'axios';\n\nVue.use(Vuex);\nconst url_api = \"https://www.girona.cat/shared/feeds/modern_mural.php\"\nexport default new Vuex.Store({\n  state: {\n    loading: true,\n    info: [],\n    activeInfo: 0\n  },\n  mutations: {\n    setLoading(state, loading) {\n      state.loading = loading;\n    },\n    setActiveInfo(state) {\n      state.activeInfo++;\n    },\n    setInfo(state, info) {\n      state.info = info;\n    },\n  },\n  actions: {\n    fetchAllData({ dispatch, commit, state }) {\n      commit(\"setLoading\", true);\n      console.log(\"Loading before\", state.loading);\n      let days = dispatch(\"fetchInfo\");\n\n      return Promise.all([\n        days,\n\n\n      ]).then(() => {\n        // Both done\n        commit(\"setLoading\", false);\n        console.log(\"Loading after\", state.loading)\n      });\n    },\n    fetchInfo({ state, commit }) {\n      console.log(\"Fetch Info\");\n      return new Promise((resolve) => {\n        const url = url_api + \"/info\"\n        // https://docs.nativescript.org/http.html\n        axios.get(url).then(res => {\n          console.log(res.data)\n          commit(\"setInfo\", res.data);\n          resolve(state.info);\n        })\n          .catch(err => console.log('error', err))\n      });\n    },\n\n\n  },\n  getters: {\n    loading(state) {\n      return state.loading;\n    },\n    info(state) {\n      return state.info;\n    },\n    activeInfo(state) {\n      return state.activeInfo;\n    },\n  },\n  modules: {},\n});\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,KAAK,MAAM,OAAO;AAEzBF,GAAG,CAACG,GAAG,CAACF,IAAI,CAAC;AACb,MAAMG,OAAO,GAAG,sDAAsD;AACtE,eAAe,IAAIH,IAAI,CAACI,KAAK,CAAC;EAC5BC,KAAK,EAAE;IACLC,OAAO,EAAE,IAAI;IACbC,IAAI,EAAE,EAAE;IACRC,UAAU,EAAE;EACd,CAAC;EACDC,SAAS,EAAE;IACTC,UAAU,CAACL,KAAK,EAAEC,OAAO,EAAE;MACzBD,KAAK,CAACC,OAAO,GAAGA,OAAO;IACzB,CAAC;IACDK,aAAa,CAACN,KAAK,EAAE;MACnBA,KAAK,CAACG,UAAU,EAAE;IACpB,CAAC;IACDI,OAAO,CAACP,KAAK,EAAEE,IAAI,EAAE;MACnBF,KAAK,CAACE,IAAI,GAAGA,IAAI;IACnB;EACF,CAAC;EACDM,OAAO,EAAE;IACPC,YAAY,CAAC;MAAEC,QAAQ;MAAEC,MAAM;MAAEX;IAAM,CAAC,EAAE;MACxCW,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC;MAC1BC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEb,KAAK,CAACC,OAAO,CAAC;MAC5C,IAAIa,IAAI,GAAGJ,QAAQ,CAAC,WAAW,CAAC;MAEhC,OAAOK,OAAO,CAACC,GAAG,CAAC,CACjBF,IAAI,CAGL,CAAC,CAACG,IAAI,CAAC,MAAM;QACZ;QACAN,MAAM,CAAC,YAAY,EAAE,KAAK,CAAC;QAC3BC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEb,KAAK,CAACC,OAAO,CAAC;MAC7C,CAAC,CAAC;IACJ,CAAC;IACDiB,SAAS,CAAC;MAAElB,KAAK;MAAEW;IAAO,CAAC,EAAE;MAC3BC,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;MACzB,OAAO,IAAIE,OAAO,CAAEI,OAAO,IAAK;QAC9B,MAAMC,GAAG,GAAGtB,OAAO,GAAG,OAAO;QAC7B;QACAF,KAAK,CAACyB,GAAG,CAACD,GAAG,CAAC,CAACH,IAAI,CAACK,GAAG,IAAI;UACzBV,OAAO,CAACC,GAAG,CAACS,GAAG,CAACC,IAAI,CAAC;UACrBZ,MAAM,CAAC,SAAS,EAAEW,GAAG,CAACC,IAAI,CAAC;UAC3BJ,OAAO,CAACnB,KAAK,CAACE,IAAI,CAAC;QACrB,CAAC,CAAC,CACCsB,KAAK,CAACC,GAAG,IAAIb,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEY,GAAG,CAAC,CAAC;MAC5C,CAAC,CAAC;IACJ;EAGF,CAAC;EACDC,OAAO,EAAE;IACPzB,OAAO,CAACD,KAAK,EAAE;MACb,OAAOA,KAAK,CAACC,OAAO;IACtB,CAAC;IACDC,IAAI,CAACF,KAAK,EAAE;MACV,OAAOA,KAAK,CAACE,IAAI;IACnB,CAAC;IACDC,UAAU,CAACH,KAAK,EAAE;MAChB,OAAOA,KAAK,CAACG,UAAU;IACzB;EACF,CAAC;EACDwB,OAAO,EAAE,CAAC;AACZ,CAAC,CAAC"},"metadata":{},"sourceType":"module"}